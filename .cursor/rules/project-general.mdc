---
alwaysApply: true
---

# HMScaleSync 项目规则

## 代码编写后的构建和运行流程

### 构建检查
在编写或修改代码后，**必须**执行以下步骤：

1. **运行构建检查**：执行 `dotnet build` 命令检查代码是否有编译错误
2. **检查构建结果**：
   - 如果构建成功（退出码为 0），说明代码没有错误
   - 如果构建失败（退出码非 0），需要修复错误后重新构建

### 工作流程
1. 编写或修改代码
2. 运行 `dotnet build` 进行构建检查
4. 如果构建失败 → 修复错误，然后重复步骤 2-3
5. 如果需要生成md文档请在"根目录/.docs"中添加

### 注意事项
- 构建检查是必需的，不能跳过

## 文件操作规范

### 文件迁移规则
当需要迁移（移动或复制）文件时，**必须**使用命令行执行操作，而不是重新编写文件：

**复制文件**：
```powershell
# Windows PowerShell
Copy-Item -Path "源文件路径" -Destination "目标文件路径"
# 或使用简写
cp "源文件路径" "目标文件路径"
```

**移动/剪切文件**：
```powershell
# Windows PowerShell
Move-Item -Path "源文件路径" -Destination "目标文件路径"
# 或使用简写
mv "源文件路径" "目标文件路径"
```

**复制目录**：
```powershell
Copy-Item -Path "源目录路径" -Destination "目标目录路径" -Recurse
```

**移动目录**：
```powershell
Move-Item -Path "源目录路径" -Destination "目标目录路径"
```

### 文件/文件夹重命名规则
当需要重命名文件或文件夹时，**必须**使用命令行执行操作，而不是重新编写文件：

**重命名文件**：
```powershell
# Windows PowerShell
Rename-Item -Path "原文件路径" -NewName "新文件名"
# 或使用简写
ren "原文件路径" "新文件名"
```

**重命名文件夹**：
```powershell
# Windows PowerShell
Rename-Item -Path "原文件夹路径" -NewName "新文件夹名"
```

### 重要原则
- **禁止**：重新编写整个文件来达到迁移或重命名的目的
- **必须**：使用命令行工具（`Copy-Item`, `Move-Item`, `Rename-Item`）执行文件操作
- **原因**：命令行操作更高效，不会丢失文件历史记录，也不会浪费时间重新编写代码

### 规则执行要求
- 当 AI 需要迁移、复制、移动或重命名文件/文件夹时，**必须优先使用命令行工具**
- **绝对禁止**通过读取原文件内容然后写入新位置的方式来"迁移"文件
- 如果 AI 尝试重新编写文件来达到迁移目的，这是**错误的做法**，应该立即停止并改用命令行工具
- 如果无法使用命令行工具应停止编写代码告诉使用者自行重命名，和指明如何迁移文件
